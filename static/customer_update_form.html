<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="form_update.css">
  <title>Update Customer</title>
</head>

<body>
  <div>
    <label for="id">ID:</label>
    <input type="number" id="cust_id" name="id" required min="1"><br>

    <label for="name">Customer's Name:</label>
    <input type="text" id="cust_name" style="padding: 5px" minlength="3"/><br />

    <label for="city">City:</label>
    <input type="text" id="cust_city" style="padding: 5px" minlength="3"/><br />

    <label for="age">Age:</label>
    <input type="number" id="cust_age" min="5" style="padding: 5px"/><br>

    <label for="active">Active:</label>
    <select id="cust_active" name="active">
      <option value="1">True</option>
      <option value="0">False</option>
  </select>

    <button onclick="updCust();">Update customer</button>
  </div>

  <script>
    function updCust() {
      const url = `http://127.0.0.1:5000/customers/${cust_id.value}`;
      const data = {
        id: cust_id.value,
        name: cust_name.value,
        city: cust_city.value,
        age: cust_age.value,
        active: cust_active.value === '1'
      };

      axios.post(url, data).then((response) => {
          const message = `Updated customer ${cust_name.value}, with ID: ${cust_id.value}`;
          alert(message);
        })
        .catch((error) => {
          console.error("Error updating customer:", error);
        });
    }
  </script>
</body>

</html>