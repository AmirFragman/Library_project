<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
    <link rel="stylesheet" href="form_add.css" />
    <title>Add book</title>
</head>
<body>
    <div>
        <label for="name">Book's Name: </label>
        <input type="text" id="book_name" required style="padding: 5px" minlength="3"/> <br />
  
        <label for="author">Author of book: </label>
        <input type="text" id="book_author" required style="padding: 5px" minlength="3"/><br />
  
        <label for="year">Year publidhed: </label><br>
        <input type="number" id="book_year" required min="5" style="padding: 5px"/><br>

        <label for="btype">Book type: </label><br>
        <select id="btype" style="padding: 5px">
          <option value="1">up to 10 days</option><br>
          <option value="2">up to 5 days</option><br>
          <option value="1">up to 2 days</option><br>
        </select><br>
        <button onclick="newBook();">Add a new book</button>
      </div>
  
      <script>
        function newBook() {
          const url = "http://127.0.0.1:5000/books";
          const data = {
            name: book_name.value,
            author: book_author.value,
            year: book_year.value,
            book_type: btype.value
          };
  
          axios.post(url, data).then((response) => {
              const message = `New book added named: ${book_name.value}, Author: ${book_author.value}`;
              alert(message);
            })
            .catch((error) => {
              console.error("Error adding book:", error);
            });
        }
      </script>
</body>
</html>
