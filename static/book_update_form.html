<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="form_update.css">
  <title>Update Book</title>
  
</head>

<body>
  <div>
    <label for="id">Book's ID:</label>
    <input type="number" id="book_id" name="id" required min="1"><br>

    <label for="name">Book's Name: </label>
    <input type="text" id="book_name" required style="padding: 5px" minlength="3"/> <br />

    <label for="author">Author of book: </label>
    <input type="text" id="book_author" required style="padding: 5px" minlength="3"/><br />

    <label for="year">Year published: </label><br>
    <input type="number" id="book_year" required min="1800" max="2023" style="padding: 5px"/><br>

    <label for="btype">Book type: </label><br>
        <select id="btype" style="padding: 5px">
          <option value="1">up to 10 days</option><br>
          <option value="2">up to 5 days</option><br>
          <option value="1">up to 2 days</option><br>
        </select><br>
        
    <label for="book_active">Active:</label>
    <select id="book_active" name="book_active">
      <option value=1>True</option>
      <option value=0>False</option>
  </select><br>

  <button onclick="updBook();">Update book</button>
  </div>

  <script>
    function updBook() {
      const url = `https://libraryamir.onrender.com/books/${book_id.value}`;
      const data = {
        id: book_id.value,
        name: book_name.value,
        author: book_author.value,
        year: book_year.value,
        book_type: btype.value,
        active: book_active.value === '1'
      };

      axios.post(url, data).then((response) => {
          const message = `Updated book ${book_name.value}, with ID: ${book_id.value}`;
          alert(message);
        })
        .catch((error) => {
          console.error("Error updating customer:", error);
        });
    }
  </script>
</body>

</html>